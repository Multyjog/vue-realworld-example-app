{"version":3,"sources":["webpack:///./src/views/ArticleEdit.vue?549a","webpack:///src/views/ArticleEdit.vue","webpack:///./src/views/ArticleEdit.vue?7936","webpack:///./src/views/ArticleEdit.vue","webpack:///./src/components/ListErrors.vue?1a33","webpack:///src/components/ListErrors.vue","webpack:///./src/components/ListErrors.vue?1534","webpack:///./src/components/ListErrors.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","errors","on","$event","preventDefault","onPublish","article","slug","inProgress","directives","name","rawName","value","expression","domProps","target","composing","$set","addHeader","_v","type","indexOf","_k","keyCode","key","addTag","tagInput","_l","tag","index","removeTag","_s","staticRenderFns","components","props","previousArticle","Object","required","data","computed","methods","1","2","3","4","5","6","body","headers","level","$store","dispatch","component","err"],"mappings":"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","file":"js/chunk-fee37f4e.c75b4e6a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"editor-page\"},[_c('div',{staticClass:\"container page\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-10 offset-md-1 col-xs-12\"},[_c('RwvListErrors',{attrs:{\"errors\":_vm.errors}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onPublish(_vm.article.slug)}}},[_c('fieldset',{attrs:{\"disabled\":_vm.inProgress}},[_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.article.title),expression:\"article.title\"}],staticClass:\"form-control form-control-lg\",attrs:{\"type\":\"text\",\"placeholder\":\"Article Title\"},domProps:{\"value\":(_vm.article.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.article, \"title\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.article.description),expression:\"article.description\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"What's this article about?\"},domProps:{\"value\":(_vm.article.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.article, \"description\", $event.target.value)}}})]),_c('div',{staticClass:\"buttonsField\"},[_c('button',{staticClass:\"myButtons\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addHeader(3)}}},[_vm._v(\"\\n                H3\\n              \")]),_c('button',{staticClass:\"myButtons\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addHeader(2)}}},[_vm._v(\"\\n                H2\\n              \")]),_c('button',{staticClass:\"myButtons\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addHeader(1)}}},[_vm._v(\"\\n                H1\\n              \")])]),_c('fieldset',{staticClass:\"form-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.article.body),expression:\"article.body\"}],staticClass:\"form-control\",attrs:{\"id\":\"textField\",\"rows\":\"8\",\"placeholder\":\"Write your article (in markdown)\"},domProps:{\"value\":(_vm.article.body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.article, \"body\", $event.target.value)}}})]),_c('fieldset',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tagInput),expression:\"tagInput\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter your tags! For example: family holiday vacation loremipsum\"},domProps:{\"value\":(_vm.tagInput)},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.addTag(_vm.tagInput)},\"input\":function($event){if($event.target.composing){ return; }_vm.tagInput=$event.target.value}}}),_c('div',{staticClass:\"tag-list\"},_vm._l((_vm.article.tagList),function(tag,index){return _c('span',{key:tag + index,staticClass:\"tag-default tag-pill\"},[_c('i',{staticClass:\"ion-close-round\",on:{\"click\":function($event){return _vm.removeTag(tag)}}}),_vm._v(\"\\n                  \"+_vm._s(tag)+\"\\n                \")])}),0)])]),_c('button',{staticClass:\"btn btn-lg pull-xs-right btn-primary\",attrs:{\"disabled\":_vm.inProgress,\"type\":\"submit\"}},[_vm._v(\"\\n            Publish Article\\n          \")])])],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"editor-page\">\n    <div class=\"container page\">\n      <div class=\"row\">\n        <div class=\"col-md-10 offset-md-1 col-xs-12\">\n          <RwvListErrors :errors=\"errors\" />\n          <form @submit.prevent=\"onPublish(article.slug)\">\n            <fieldset :disabled=\"inProgress\">\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control form-control-lg\"\n                  v-model=\"article.title\"\n                  placeholder=\"Article Title\"\n                />\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  v-model=\"article.description\"\n                  placeholder=\"What's this article about?\"\n                />\n              </fieldset>\n              <div class=\"buttonsField\">\n                <button type=\"button\" @click=\"addHeader(3)\" class=\"myButtons\">\n                  H3\n                </button>\n                <button type=\"button\" @click=\"addHeader(2)\" class=\"myButtons\">\n                  H2\n                </button>\n                <button type=\"button\" @click=\"addHeader(1)\" class=\"myButtons\">\n                  H1\n                </button>\n              </div>\n              <fieldset class=\"form-group\">\n                <textarea\n                  id=\"textField\"\n                  class=\"form-control\"\n                  rows=\"8\"\n                  v-model=\"article.body\"\n                  placeholder=\"Write your article (in markdown)\"\n                >\n                </textarea>\n              </fieldset>\n              <fieldset class=\"form-group\">\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter your tags! For example: family holiday vacation loremipsum\"\n                  v-model=\"tagInput\"\n                  @keypress.enter.prevent=\"addTag(tagInput)\"\n                />\n                <div class=\"tag-list\">\n                  <span\n                    class=\"tag-default tag-pill\"\n                    v-for=\"(tag, index) of article.tagList\"\n                    :key=\"tag + index\"\n                  >\n                    <i class=\"ion-close-round\" @click=\"removeTag(tag)\"> </i>\n                    {{ tag }}\n                  </span>\n                </div>\n              </fieldset>\n            </fieldset>\n            <button\n              :disabled=\"inProgress\"\n              class=\"btn btn-lg pull-xs-right btn-primary\"\n              type=\"submit\"\n            >\n              Publish Article\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport store from \"@/store\";\nimport RwvListErrors from \"@/components/ListErrors\";\nimport {\n  ARTICLE_PUBLISH,\n  ARTICLE_EDIT,\n  FETCH_ARTICLE,\n  ARTICLE_EDIT_ADD_TAG,\n  ARTICLE_EDIT_REMOVE_TAG,\n  ARTICLE_RESET_STATE\n} from \"@/store/actions.type\";\n\nexport default {\n  name: \"RwvArticleEdit\",\n  components: { RwvListErrors },\n  props: {\n    previousArticle: {\n      type: Object,\n      required: false\n    }\n  },\n  async beforeRouteUpdate(to, from, next) {\n    // Reset state if user goes from /editor/:id to /editor\n    // The component is not recreated so we use to hook to reset the state.\n    await store.dispatch(ARTICLE_RESET_STATE);\n    return next();\n  },\n  async beforeRouteEnter(to, from, next) {\n    // SO: https://github.com/vuejs/vue-router/issues/1034\n    // If we arrive directly to this url, we need to fetch the article\n    await store.dispatch(ARTICLE_RESET_STATE);\n    if (to.params.slug !== undefined) {\n      await store.dispatch(\n        FETCH_ARTICLE,\n        to.params.slug,\n        to.params.previousArticle\n      );\n    }\n    return next();\n  },\n  async beforeRouteLeave(to, from, next) {\n    await store.dispatch(ARTICLE_RESET_STATE);\n    next();\n  },\n  data() {\n    return {\n      tagInput: null,\n      inProgress: false,\n      errors: {}\n    };\n  },\n  computed: {\n    ...mapGetters([\"article\"])\n  },\n  methods: {\n    addHeader(level) {\n      let headers = {\n        1: \"#\",\n        2: \"##\",\n        3: \"###\",\n        4: \"####\",\n        5: \"#####\",\n        6: \"######\"\n      };\n      this.article.body = this.article.body + \"\\n\" + headers[level] + \" \";\n    },\n    onPublish(slug) {\n      let action = slug ? ARTICLE_EDIT : ARTICLE_PUBLISH;\n      this.inProgress = true;\n      this.$store\n        .dispatch(action)\n        .then(({ data }) => {\n          this.inProgress = false;\n          this.$router.push({\n            name: \"article\",\n            params: { slug: data.article.slug }\n          });\n        })\n        .catch(({ response }) => {\n          this.inProgress = false;\n          this.errors = response.data.errors;\n        });\n    },\n    removeTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_REMOVE_TAG, tag);\n    },\n    addTag(tag) {\n      this.$store.dispatch(ARTICLE_EDIT_ADD_TAG, tag);\n      this.tagInput = null;\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleEdit.vue?vue&type=template&id=3968bb70&\"\nimport script from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"error-messages\"},_vm._l((_vm.errors),function(value,key){return _c('li',{key:key},[_c('span',{domProps:{\"textContent\":_vm._s(key)}}),_vm._l((value),function(err){return _c('span',{key:err,domProps:{\"textContent\":_vm._s(err)}})})],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template v-show=\"errors\">\n  <ul class=\"error-messages\">\n    <li v-for=\"(value, key) in errors\" :key=\"key\">\n      <span v-text=\"key\" />\n      <span v-for=\"err in value\" :key=\"err\" v-text=\"err\" />\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: \"RwvListErorrs\",\n  props: {\n    errors: { type: Object, required: true }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListErrors.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ListErrors.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ListErrors.vue?vue&type=template&id=c09b4caa&v-show=errors&\"\nimport script from \"./ListErrors.vue?vue&type=script&lang=js&\"\nexport * from \"./ListErrors.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}